Fancybox.bind("[data-fancybox]",{});let animationItems=document.querySelectorAll(".animation-item");if(0<animationItems.length){function onEntry(e){e.forEach(e=>{e.isIntersecting&&e.target.classList.add("animation-active")})}let e={threshold:[.5]},t=new IntersectionObserver(onEntry,e);for(let e of animationItems)t.observe(e)}let scrollWidthFunc=()=>{var e=window.innerWidth-document.body.clientWidth;document.querySelector("html").style.paddingRight=e+"px",document.querySelector(".header__top").style.paddingRight=e+"px"},scrollTop=document.querySelector(".scroll-top");scrollTop&&(scrollTop.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})}),window.addEventListener("scroll",()=>{300<window.scrollY?scrollTop.classList.remove("hidden"):scrollTop.classList.add("hidden")}),300<window.scrollY?scrollTop.classList.add("scroll-top--visible"):scrollTop.classList.add("hidden")),document.addEventListener("DOMContentLoaded",function(){let n=document.querySelector("#burger");if(n){let e=document.querySelector(".header__bottom"),t=document.querySelector(".header");n.addEventListener("click",()=>{n.classList.contains("open")?document.body.classList.remove("burger-lock"):document.body.classList.add("burger-lock"),e.classList.toggle("open"),n.classList.toggle("open"),t.classList.toggle("header--active"),document.querySelector("html").classList.toggle("burger-lock")})}function l(e){var e=e.cloneNode(!0),t=(e.style.maxHeight="none",e.style.height="auto",e.style.opacity="0",e.style.position="absolute",e.style.pointerEvents="none",document.body.appendChild(e),e.scrollHeight);return document.body.removeChild(e),t}function c(e){e.classList.remove("open"),setTimeout(()=>{e.classList.contains("open")||e.classList.remove("active")},400),document.body.classList.remove("lock"),document.querySelector("html").style.paddingRight=0,document.querySelector("html").classList.remove("lock"),document.querySelector(".header__top").style.paddingRight=0}document.querySelectorAll(".header__nav-item").forEach(t=>{let a=t.querySelector(".header__nav-submenu");t.querySelector(".header__nav-arrow")?.addEventListener("click",e=>{1024<=window.innerWidth||a.contains(e.target)||(t.classList.toggle("active"),t.classList.contains("active")?a.style.maxHeight=l(a)+"px":a.style.maxHeight=null)}),(a?.querySelectorAll(".header__nav-arrow"))?.forEach(t=>{let n=t.previousElementSibling,o=t.nextElementSibling;t.addEventListener("click",e=>{e.stopPropagation(),t.classList.toggle("active"),n.classList.toggle("active"),t.classList.contains("active")?o.style.maxHeight=o.scrollHeight+"px":o.style.maxHeight=null,a.style.maxHeight=l(a)+"px"})})});var e=document.querySelectorAll(".popup-btn");let i=document.querySelectorAll(".popup"),s=document.querySelector(".original-title")?.innerHTML;document.querySelectorAll(".close-popup-btn").forEach(function(e){e.addEventListener("click",function(e){c(e.target.closest(".popup"))})}),e.forEach(function(a){a.addEventListener("click",function(e){e.preventDefault();var t,n=e.currentTarget.dataset.path;let o=document.querySelector(`[data-target="${n}"]`);o&&(i.forEach(function(e){c(e),e.addEventListener("click",function(e){e.target.closest(".popup__content")||c(e.target.closest(".popup"))})}),o.classList.add("active"),setTimeout(()=>{o.classList.add("open")},10),"popup-change"==o.getAttribute("data-target")&&(n=o.querySelector(".original-title"),a.classList.contains("change-item__btn")?a.classList.contains("doctor__btn-js")?(t=a.closest(".change-item").querySelector(".change-item__title"),n.innerHTML="Записаться на приём к врачу: "+t.innerHTML):a.classList.contains("change-item__btn_current")?n.textContent=a.textContent:(t=a.closest(".change-item").querySelector(".change-item__title"),n.innerHTML=t.innerHTML):n.innerHTML=s),"popup-jobs"==o.getAttribute("data-target")&&(t=a.closest(".jobs__items"),n=o.querySelector(".jobs__inner_original"))&&t.querySelector(".jobs__inner")&&(n.innerHTML=t.querySelector(".jobs__inner").innerHTML),e.stopPropagation(),scrollWidthFunc(),document.querySelector("html").classList.add("lock"))})});e=document.getElementById("map-placeholder");function t(){var e;document.querySelector('[src="https://api-maps.yandex.ru/2.1/?lang=ru_RU"]')?o():((e=document.createElement("script")).type="text/javascript",e.src="https://api-maps.yandex.ru/2.1/?lang=ru_RU",e.onload=o,document.head.appendChild(e))}function o(){var e=document.getElementById("map-placeholder");e&&e.remove(),ymaps.ready(function(){var e=new ymaps.Map("map",{center:[47.231129,39.728721],zoom:13,controls:[]}),t=new ymaps.Placemark([47.231129,39.728721],{hintContent:"Клиника «Детокс СПБ»",balloonContent:"Клиника «Детокс СПБ»"},{iconLayout:"default#image",iconImageHref:"assets/img/icons/location.png",iconImageSize:[21,26],iconImageOffset:[-15,-31]});e.geoObjects.add(t),e.behaviors.disable(["scrollZoom"])})}e?(e.addEventListener("mouseenter",t,{once:!0}),e.addEventListener("click",t,{once:!0})):t();let a=document.querySelector(".pagination-content");if(a){let c=a.dataset.pagination,i=0,s=Array.from(a.querySelectorAll(".pagination-item")).slice(0);function r(e){let n=e*c,o=n+c;s.forEach((e,t)=>{e.classList.toggle("hidden",t<n||t>=o)});var e=Math.ceil(s.length/c),t=document.querySelectorAll(".pagination button"),a=document.querySelector(".prev-button"),l=document.querySelector(".next-button");t.forEach((e,t)=>{e.classList.contains("prev-button")||e.classList.contains("next-button")||(t-1===i?e.classList.add("active"):e.classList.remove("active"))}),a&&(a.disabled=0===i,a.classList.toggle("disabled",0===i)),l&&(l.disabled=i===e-1,l.classList.toggle("disabled",i===e-1))}if(console.log(s.length/c),1<s.length/c){{let t=Math.ceil(s.length/c);var e=document.createElement("div"),d=document.body.appendChild(e),u=(e.classList.add("pagination"),document.createElement("button"));u.innerHTML="<span>Назад</span>",u.classList.add("prev-button"),u.classList.add("link"),u.addEventListener("click",()=>{0<i&&r(--i)});for(let e=0;e<t;e++){var m=document.createElement("button");m.classList.add("pagination-btn"),m.textContent=e+1,m.addEventListener("click",()=>{r(i=e)}),d.appendChild(m)}var h=document.createElement("button");h.innerHTML="<span>Вперед</span>",h.classList.add("next-button"),h.classList.add("link"),h.addEventListener("click",()=>{i<t-1&&r(++i)}),d.insertBefore(u,d.firstChild),d.appendChild(h),a.appendChild(e)}r(i)}}let g=document.querySelectorAll(".filter-btn"),p=document.querySelectorAll(".filter-item");if(0<g.length&&0<p.length){let n=window.getComputedStyle(p[0]).display;function v(t){p.forEach(e=>{"all"===t||e.getAttribute("data-id")===t?(e.style.display=n,e.classList.add("active"),e.classList.remove("hidden")):(e.style.display="none",e.classList.remove("active"),e.classList.add("hidden"))})}g.forEach(e=>{e.addEventListener("click",function(){var e,t=this.getAttribute("data-id");e=this,g.forEach(e=>{e.classList.remove("active")}),e.classList.add("active"),v(t)})}),v("all")}var u=document.querySelectorAll("input[type=search]"),y=(0<u.length&&u.forEach(l=>{let c=l.closest(".search-wrapper");if(c){let t=c.querySelector(".search__result"),a=c.querySelector(".search__no-result");l.addEventListener("input",function(){let n=l.value.toUpperCase();var e=c.querySelectorAll(".search-list");let o=0;e.forEach(e=>{var t=e.getElementsByTagName("li");for(let e=0;e<t.length;e++)-1<t[e].querySelector(".search-name").innerHTML.toUpperCase().indexOf(n)?(t[e].classList.remove("none"),o++):t[e].classList.add("none")}),""===l.value.trim()?t.classList.add("none"):(t.classList.remove("none"),t.classList.toggle("none",0==o)),a.classList.toggle("none",0<o)}),document.addEventListener("click",e=>{c.contains(e.target)||t.classList.add("none")})}}),document.getElementsByClassName("accordion"));for(let e=0;e<y.length;e++)y[e]&&y[e].addEventListener("click",function(){var e,t=this.querySelector(".accordion__content")||this.parentElement.querySelector(".accordion__content");t.classList.contains("accordion__content--active")?(t.classList.remove("accordion__content--active"),this.classList.remove("accordion--active"),t.style.maxHeight="0"):(t.classList.add("accordion__content--active"),this.classList.add("accordion--active"),e=t.scrollHeight,t.style.maxHeight=e+"px")});function L(){var e=document.querySelectorAll(".quantity-card"),n=document.querySelector(".quantity span");if(n){let t=0;e.forEach(e=>{null!==e.offsetParent&&t++}),n.textContent=t}}document.querySelectorAll(".tab-btn").forEach(e=>{e&&e.addEventListener("click",function(e){var t,n,o,a;a=(t=this).closest(".tab"),t.classList.contains("tab-btn--active")||(n=t.dataset.id,n=a.querySelectorAll(`.tab-content[data-id="${n}"]`),(o=a.querySelector(".tab-btn--active"))&&o.classList.remove("tab-btn--active"),a.querySelectorAll(".tab-content--active").forEach(e=>e.classList.remove("tab-content--active")),t.classList.add("tab-btn--active"),n.forEach(e=>e.classList.add("tab-content--active"))),L()})}),setTimeout(L,100),document.querySelectorAll(".btn-more").forEach(n=>{if(n){let t=n.previousElementSibling;if(t.scrollHeight<=t.clientHeight)n.style.display="none";else{let e=n.innerHTML;n.addEventListener("click",function(){t.style.maxHeight;this.classList.toggle("active"),t.style.maxHeight?(t.style.maxHeight=null,this.textContent=e):(t.style.maxHeight=t.scrollHeight+"px",this.textContent="Свернуть")})}}});document.querySelectorAll(".scroll").forEach(e=>{e&&e.addEventListener("click",function(e){e.preventDefault();e=this.getAttribute("href").substring(1),e=document.getElementById(e).getBoundingClientRect().top;window.scrollBy({top:e-110,behavior:"smooth"})})});h=document.querySelector(".navigation");if(h){var b=document.querySelectorAll(".text-block h1, .text-block h2, .text-block h3, .text-block h4");if(0<b.length){for(let e=0;e<b.length;e+=1){var f=b[e],S=f.textContent,E=document.querySelector(".navigation__list"),q=document.createElement("li"),_=document.createElement("a");"H1"==f.tagName&&q.classList.add("nav-title-h1"),q.classList.add("navigation__item"),"H2"==f.tagName?q.classList.add("nav-title-h2"):"H3"==f.tagName?q.classList.add("nav-title-h3"):"H4"==f.tagName?q.classList.add("nav-title-h4"):"H5"==f.tagName?q.classList.add("nav-title-h5"):"H6"==f.tagName&&q.classList.add("nav-title-h6"),_.classList.add("navigation__link"),f.setAttribute("id",""+e),_.setAttribute("href","$"+e),_.textContent=" "+S,q.append(_),E.append(q)}document.querySelectorAll('a[href^="$"').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();e=this.getAttribute("href").substring(1),e=document.getElementById(e).getBoundingClientRect().top;window.scrollBy({top:e-280,behavior:"smooth"})})})}else h.querySelector(".navigation")&&h.querySelector(".navigation").remove()}}),document.addEventListener("DOMContentLoaded",function(){var e=document.querySelector(".alcotest__form");let a=1;function o(){var e=document.querySelectorAll(".add-drink-btn"),t=document.querySelectorAll(".remove-drink-btn");e.forEach(e=>e.style.display="none"),a<5&&(e[0].style.display="inline-block"),t.forEach((e,t)=>{e.style.display=0===t?"none":"inline-block"})}e.addEventListener("click",function(e){var t,n;e.target.classList.contains("add-drink-btn")&&a<5&&(n=e.target.closest(".alcotest__form-block"),t=(()=>{a++;let o=document.querySelector("#drink-block-1").cloneNode(!0);return o.id="drink-block-"+a,o.querySelectorAll("input, select").forEach(e=>{e.value="";var t=e.id,n=t.replace(/\d+$/,a),e=(e.id=n,o.querySelector(`label[for="${t}"]`));e&&e.setAttribute("for",n)}),o.querySelector(".remove-drink-btn").style.display="inline-block",o})(),n.after(t),o()),e.target.classList.contains("remove-drink-btn")&&(n=e.target.closest(".alcotest__form-block"))&&"drink-block-1"!==n.id&&(n.remove(),a--,o())}),o()});
//# sourceMappingURL=main.js.map
